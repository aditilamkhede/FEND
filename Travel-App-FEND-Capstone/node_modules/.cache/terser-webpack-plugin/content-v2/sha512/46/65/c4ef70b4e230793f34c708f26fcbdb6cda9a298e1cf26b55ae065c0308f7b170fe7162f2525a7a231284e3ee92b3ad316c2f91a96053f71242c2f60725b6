{"map":{"version":3,"sources":["main.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","init","cityName","country","state","key_Pxb","countryCodeArray","Date","todaysDate","getFullYear","getMonth","getDate","console","log","document","getElementById","addEventListener","generateOnClick","elmPlace","elmCountry","querySelector","onCountrySelect","callback","wait","timeout","args","context","this","clearTimeout","setTimeout","apply","debounce","fetch","then","res","json","geonames","map","item","countryCode","countryName","adminCodes1","ISO3166_2","adminCode1","adminName1","innerHTML","optCountry","Set","replace","selectedIndex","selectInput","elmState","optState","options","e","elmDate","text","startDt","errorDtElm","errorElm","validateInput","firstDate","alert","diffDays","Math","round","abs","getCoordinates","data","arrData","lat","lng","wBitURL","getWeatherData","weatherDataArr","wData","jsonObjArr","length","jsonObj","temp","date","datetime","icon","weather","iconDesc","description","push","preapareData","postWeatherData","getLocationImage","resImg","imgURL","hits","largeImageURL","updateWeatherUI","async","baseURL","username","wURL","apiBaseURL","lon","days","location","encodeURIComponent","url","method","credentials","headers","Content-Type","body","JSON","stringify","req","elmWeather","elmHTML","getHTMLData","style","background","window"],"mappings":"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"},"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e,t,n){},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"init\",(function(){return d}));let o=\"san jose\",r=\"us\",c=\"\";const a=\"17496130-86911d19665df26c192b13e9a\";let l,i=new Date,s=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);function d(){console.log(\"In Init\"),document.getElementById(\"generate\").addEventListener(\"click\",g);const e=document.getElementById(\"cityName\"),t=document.querySelector(\"#country\");t.addEventListener(\"change\",u),e.addEventListener(\"keyup\",function(e,t){let n;return(...o)=>{const r=this;clearTimeout(n),n=setTimeout(()=>e.apply(r,o),t)}}(()=>{console.log(\"Inside event listner call\"),fetch(`http://api.geonames.org/searchJSON?q=${e.value}&username=aditilamkhede`).then(e=>e.json()).then(e=>{console.log(e),l=e.geonames.map(e=>[e.countryCode,e.countryName,e.adminCodes1?e.adminCodes1.ISO3166_2:e.adminCode1,e.adminName1]),console.log(l);(e=>{t.innerHTML=\"\";const n=\"\"+[...new Set(e.map(e=>`<option value=\"${e[0]}\">${e[1]}</option>\\n`))];console.log(\"optCountry\",n),t.innerHTML=n.replace(/,/gi,\"\"),t.selectedIndex=0,u()})(l)})},1e3))}function u(){console.log(\"onCountrySelect\",l);const e=document.querySelector(\"#state\"),t=document.querySelector(\"#country\"),n=\"\"+[...new Set(l.map(e=>e[0]==t.options[t.selectedIndex].value?`<option value=\"${e[2]}\">${e[3]}</option>\\n`:null))];e.innerHTML=n.replace(/,/gi,\"\"),console.log(\"optState\",n.replace(/,/gi,\"\"))}function g(e){console.log(\"In click\");const t=document.querySelector(\"#state\"),n=document.querySelector(\"#country\");o=document.getElementById(\"cityName\").value;const l=document.getElementById(\"startDate\");r=n.options[n.selectedIndex].value;const i=n.options[n.selectedIndex].text;c=t.options[t.selectedIndex].value,function(e,t){let n=document.getElementById(\"errorDt\"),o=document.getElementById(\"errorZip\");if(\"\"===t||null===t)return console.log(\"Please enter valid trip start date.\"),void(n.innerHTML=\"Please enter valid trip start date.\");n.innerHTML=\"\";if(\"\"===e||null===e)return console.log(\"Please enter valid cityName.\"),void(o.innerHTML=\"Please enter valid cityName code.\");o.innerHTML=\"\"}(o,l.value);const d=new Date(l.value);alert(d);const u=Math.round(Math.abs((d-s)/864e5));alert(u),m(\"http://api.geonames.org/searchJSON?q=\",o,r,c,\"aditilamkhede\").then((function(e){console.log(e.geonames[0]);let t=[e.geonames[0].lat,e.geonames[0].lng,e.geonames[0].countryName];console.log(t);let n=\"https://api.weatherbit.io/v2.0/current?key=\";u>1&&(n=\"https://api.weatherbit.io/v2.0/forecast/daily?key=\"),p(n,t[0],t[1],\"5e91a20278054587941f9c330a3be04e\",u).then((function(e){console.log(\"response\",e.data);const t=function(e){let t=[];for(var n=0;n<e.length;n++){const o={temp:e[n].temp,date:e[n].datetime,icon:e[n].weather.icon,iconDesc:e[n].weather.description};t.push(o)}return t}(e.data);console.log(\"weatherDataArr - \",t),y(\"http://localhost:5000/weather\",{weather:t}).then((function(){h(\"https://pixabay.com/api/?key=\",o,a).then((function(e){let t=\"\";console.log(\"resImg.hits\",e.hits),console.log(\"resImg.hits.length\",e.hits.length),e.hits.length>0?(t=e.hits[0].largeImageURL,console.log(t),f(t)):h(\"https://pixabay.com/api/?key=\",i,a).then((function(e){t=e.hits[0].largeImageURL,console.log(t),f(t)}))}))}))}))}))}const m=async(e,t,n,o,r)=>{const c=`${e}${t}&country=${n}&adminCodes1=ISO3166_2:${o}&maxRows=1&username=${r}`;console.log(c);const a=await fetch(c);try{const e=await a.json();return console.log(e),e}catch(e){console.log(\"Error\",e)}},p=async(e,t,n,o,r)=>{const c=`${e}${o}&lat=${t}&lon=${n}&units=i&days=${r}`;console.log(c);const a=await fetch(c);try{const e=await a.json();return console.log(e.data),e}catch(e){console.log(\"Error\",e)}},h=async(e,t,n)=>{const o=`${e}${n}&q=${encodeURIComponent(t)}&image_type=photo&pretty=true`;console.log(o);const r=await fetch(o);try{const e=await r.json();return console.log(e.hits),e}catch(e){console.log(\"Error\",e)}},y=async(e=\"\",t={})=>{const n=await fetch(e,{method:\"POST\",credentials:\"same-origin\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(t)});try{return await n.json()}catch(e){console.log(\"Error\",e)}};const f=async e=>{const t=await fetch(\"http://localhost:5000/all\");try{const n=function(e){let t=\"\";for(var n=0;n<e.length;n++)t+=`<div id=\"date\">${e[n].date}</div>\\n      <div id=\"temp\">${e[n].temp}</div>\\n      <div id=\"icon\"><img height=\"50\" width=\"50\" alt=\"${e[n].iconDesc}\"\\n      src=\"https://www.weatherbit.io/static/img/icons/${e[n].icon}.png\"></div>`;return t}((await t.json()).weather);console.log(\"imgURL\",e),document.getElementById(\"entryHolder\").innerHTML=n,document.body.style.background=`url(${e}) no-repeat center center fixed`}catch(e){console.log(\"Error - \",e)}};n(0);console.log(\"In export index check\",d),window.addEventListener(\"DOMContentLoaded\",d)}]);","extractedComments":[]}